{
  "id": "moltbot-ringcentral",
  "name": "RingCentral",
  "description": "RingCentral Team Messaging channel plugin for Moltbot",
  "channels": ["ringcentral"],
  "uiHints": {
    "enabled": {
      "label": "Enable RingCentral"
    },
    "selfOnly": {
      "label": "Self Only Mode",
      "help": "When enabled, only respond to your own messages in Personal chat. Set to false to enable Team/Group chats."
    },
    "groupPolicy": {
      "label": "Group Policy",
      "help": "How to handle messages from Teams/Groups. Options: disabled (ignore all), allowlist (only configured teams), open (all teams with @mention)."
    },
    "groups": {
      "label": "Allowed Teams",
      "help": "Add Team IDs to enable them. Get Team ID from the RingCentral URL: app.ringcentral.com/messages/{TEAM_ID}",
      "itemLabel": "Team ID",
      "placeholder": "1541525766146"
    },
    "groups.*": {
      "label": "Team Configuration"
    },
    "groups.*.enabled": {
      "label": "Enabled",
      "help": "Enable or disable this team"
    },
    "groups.*.requireMention": {
      "label": "Require @Mention",
      "help": "When enabled, the bot only responds when @mentioned in this team."
    },
    "groups.*.systemPrompt": {
      "label": "System Prompt",
      "help": "Custom instructions for the AI in this team. Appended to the default prompt.",
      "placeholder": "You are a helpful assistant for the engineering team. Focus on technical questions."
    },
    "groups.*.users": {
      "label": "Allowed Users",
      "help": "List of user IDs who can trigger the bot. Leave empty to allow all team members.",
      "placeholder": "3218766020"
    },
    "requireMention": {
      "label": "Require @Mention (Global)",
      "help": "Default setting for all teams. When enabled, the bot only responds when @mentioned."
    },
    "credentials": {
      "label": "API Credentials",
      "advanced": true
    },
    "credentials.clientId": {
      "label": "Client ID",
      "placeholder": "Your RingCentral App Client ID",
      "sensitive": true
    },
    "credentials.clientSecret": {
      "label": "Client Secret",
      "placeholder": "Your RingCentral App Client Secret",
      "sensitive": true
    },
    "credentials.jwt": {
      "label": "JWT Token",
      "placeholder": "eyJraWQiOi...",
      "sensitive": true
    },
    "credentials.server": {
      "label": "API Server",
      "placeholder": "https://platform.ringcentral.com",
      "help": "Use https://platform.devtest.ringcentral.com for sandbox"
    },
    "dmPolicy": {
      "label": "DM Policy",
      "help": "How to handle direct messages: disabled, allowlist, pairing, or open",
      "advanced": true
    },
    "allowFrom": {
      "label": "DM Allowlist",
      "help": "User IDs allowed to send DMs",
      "placeholder": "3218766020",
      "advanced": true
    },
    "mediaMaxMb": {
      "label": "Max Media Size (MB)",
      "placeholder": "20",
      "advanced": true
    },
    "textChunkLimit": {
      "label": "Text Chunk Limit",
      "placeholder": "4000",
      "advanced": true
    }
  },
  "configSchema": {
    "type": "object",
    "additionalProperties": false,
    "properties": {
      "enabled": {
        "type": "boolean",
        "description": "Enable the RingCentral channel"
      },
      "selfOnly": {
        "type": "boolean",
        "description": "Only respond to JWT user in Personal chat (default: true)"
      },
      "groupPolicy": {
        "type": "string",
        "enum": ["disabled", "allowlist", "open"],
        "description": "Policy for handling group/team messages"
      },
      "groups": {
        "type": "object",
        "additionalProperties": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean",
              "description": "Enable this team"
            },
            "requireMention": {
              "type": "boolean",
              "description": "Require @mention to trigger"
            },
            "systemPrompt": {
              "type": "string",
              "description": "Custom system prompt for this team"
            },
            "users": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Allowed user IDs in this team"
            }
          }
        },
        "description": "Team/Group configurations keyed by Team ID"
      },
      "requireMention": {
        "type": "boolean",
        "description": "Require @mention in group chats (global default)"
      },
      "credentials": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "clientId": {
            "type": "string"
          },
          "clientSecret": {
            "type": "string"
          },
          "jwt": {
            "type": "string"
          },
          "server": {
            "type": "string"
          }
        }
      },
      "dmPolicy": {
        "type": "string",
        "enum": ["disabled", "allowlist", "pairing", "open"]
      },
      "allowFrom": {
        "type": "array",
        "items": {
          "type": ["string", "number"]
        }
      },
      "groupAllowFrom": {
        "type": "array",
        "items": {
          "type": ["string", "number"]
        }
      },
      "mediaMaxMb": {
        "type": "integer",
        "minimum": 1
      },
      "textChunkLimit": {
        "type": "integer",
        "minimum": 1
      },
      "name": {
        "type": "string"
      },
      "accounts": {
        "type": "object",
        "additionalProperties": {
          "type": "object"
        }
      },
      "defaultAccount": {
        "type": "string"
      }
    }
  }
}
